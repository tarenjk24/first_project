{% extends "layout.html" %}

{% block title %}
  Cart
{% endblock %}

{% block main %}
<!-- Link to external CSS file for styling the page -->
<link href="/static/profile.css" rel="stylesheet">

<!-- Centered container for the cart information -->
<div class="center">
    <div class="area">
        <div class="left">
            <div class="section">
                <div class="info">
                    <!-- Heading for the cart section -->
                    <h2 class="text-center my-4">Your Cart</h2>

                    <!-- Responsive table to display the cart contents -->
                    <div class="table-responsive">
                        <table class="table table-grey table-hover">
                            <thead>
                                <tr>
                                    <th scope="col">Cover</th>
                                    <th scope="col">Product Name</th>
                                    <th scope="col">Availability</th>
                                    <th scope="col">Quantity</th>
                                    <th scope="col">Price</th>
                                    <th scope="col">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if not rows %}
                                <tr>
                                    <td colspan="6">Your cart is empty.</td>
                                </tr>
                                {% else %}
                                {% for row in rows %}
                                <tr>
                                    <td> <img src="{{ row.cover }}" alt="{{ row.title }}"></td>
                                    <td>{{ row.name }}</td>
                                    <td>{{ row.availability }}</td>
                                    <td>{{ row.quantity }}</td>
                                    <td>{{ row.price }}</td>
                                    <td>{{ (row.price * row.quantity) }}</td>
                                </tr>
                                {% endfor %}
                                {% endif %}
                            </tbody>
                        </table>
                    </div>

                    <!-- Link to navigate back to the products page -->
                    {% if rows %}
                    <a href="/payment">Check Out</a>
                    {% endif %}
                    <a href="/">Back to Catalog</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
